import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## Get Binding Link for Identity

In order to get a binding link for a passkey, we need to create a binding link job for an exisiting identity. The following code snippet using the `RETURN` option. This is the fastest way to get a binding link as this method indicates that a binding link will be returned to the caller upon creation of the binding job. This binding link is the link you will send to your application to complete the passkey binding process.

<Tabs groupId="bind-passkey-backend-platform" queryString>
<TabItem value="curl" label="Curl">

```bash title="/credential-binding-jobs"
curl https://api-$REGION.beyondidentity.com/v1/tenants/$TENANT_ID/realms/$REALM_ID/identities/$IDENTITY_ID/credential-binding-jobs \
-X POST \
   -H "Authorization: Bearer $API_TOKEN" \
   -H 'Content-Type: application/json' \
   -d '{"job":{"delivery_method":"RETURN","authenticator_config_id":"AUTHENTICTAOR_CONFIG_ID","post_binding_redirect_uri":"APP_REDIRECT_URI"}}'
```

</TabItem>
<TabItem value="node" label="Node">

```jsx title="/credential-binding-jobs"
const bindingLinkResponse = await fetch(
  `https://api-${REGION}.beyondidentity.com/v1/tenants/${TENANT_ID}/realms/${REALM_ID}/identities/${IDENTITY_ID}/credential-binding-jobs`,
  {
    body: JSON.stringify({
      job: {
        delivery_method: 'RETURN',
        authenticator_config_id: AUTHENTICTAOR_CONFIG_ID,
        post_binding_redirect_uri: APP_REDIRECT_URI,
      },
    }),
    headers: {
      Authorization: 'Bearer ' + accessToken,
    },
    method: 'POST',
  }
);
const bindingLinkResponseJson = await bindingLinkResponse.json();
res.send(bindingLinkResponseJson);
```

</TabItem>
<TabItem value="python" label="Python">

```python title="/credential-binding-jobs"
import requests

headers = {
    'Authorization': 'Bearer API_TOKEN',
    'Content-Type': 'application/json',
}

json_data = {
    'job': {
        'delivery_method': 'RETURN',
        'authenticator_config_id': 'AUTHENTICTAOR_CONFIG_ID',
        'post_binding_redirect_uri': 'APP_REDIRECT_URI',
    },
}

response = requests.post(
    'https://api-REGION.beyondidentity.com/v1/tenants/TENANT_ID/realms/REALM_ID/identities/IDENTITY_ID/credential-binding-jobs',
    headers=headers,
    json=json_data,
)
```

</TabItem>
<TabItem value="go" label="Go">

```go title="/credential-binding-jobs"
package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

func main() {
	client := &http.Client{}
	var data = strings.NewReader(`{"job":{"delivery_method":"RETURN","authenticator_config_id":"AUTHENTICTAOR_CONFIG_ID","post_binding_redirect_uri":"APP_REDIRECT_URI"}}`)
	req, err := http.NewRequest("POST", "https://api-REGION.beyondidentity.com/v1/tenants/TENANT_ID/realms/REALM_ID/identities/IDENTITY_ID/credential-binding-jobs", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Authorization", "Bearer API_TOKEN")
	req.Header.Set("Content-Type", "application/json")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}
```

</TabItem>
</Tabs>
